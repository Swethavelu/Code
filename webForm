Form1.cs
using System;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using Newtonsoft.Json;

namespace LoginApp
{
    public partial class LoginForm : Form
    {
        public LoginForm()
        {
            InitializeComponent();
        }

        private async void LoginButton_Click(object sender, EventArgs e)
        {
            string username = usernameTextBox.Text;
            string password = passwordTextBox.Text;

            if (string.IsNullOrEmpty(username))
            {
                messageLabel.Text = "Username is required";
                return;
            }
            else if (username.Length < 7)
            {
                messageLabel.Text = "Username should contain at least 7 characters";
                return;
            }

            if (string.IsNullOrEmpty(password))
            {
                messageLabel.Text = "Password is required";
                return;
            }
            else if (password.Length < 8 || password.Length > 18)
            {
                messageLabel.Text = "Password should be between 8 and 18 characters";
                return;
            }

            try
            {
                using (HttpClient client = new HttpClient())
                {
                    string mergedCredentials = username + ":" + password;
                    byte[] byteCredentials = Encoding.UTF8.GetBytes(mergedCredentials);
                    string encodedCredentials = Convert.ToBase64String(byteCredentials);

                    client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Basic", encodedCredentials);

                    string projectName = CustomConfigurationManager.GetAppSetting("projects");

                    if (string.IsNullOrEmpty(projectName))
                    {
                        messageLabel.Text = "Project name is not configured.";
                        return;
                    }

                    string repoApiUrl = "https://SCM.com/" + projectName;
                    HttpResponseMessage response = await client.GetAsync(repoApiUrl);

                    if (!response.IsSuccessStatusCode)
                    {
                        if (response.StatusCode == System.Net.HttpStatusCode.Unauthorized)
                        {
                            messageLabel.Text = "Unauthorized! You are not permitted to access this site";
                        }
                        else
                        {
                            messageLabel.Text = "Login failed!";
                        }
                    }
                    else
                    {
                        string userInfoUrl = "https://SCM.com/" + username;
                        client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Basic", encodedCredentials);
                        HttpResponseMessage userInfoResponse = await client.GetAsync(userInfoUrl);

                        string userInfoJson = await userInfoResponse.Content.ReadAsStringAsync();
                        var userInfo = JsonConvert.DeserializeObject<UserInfo>(userInfoJson);

                        // Handle successful login
                        messageLabel.Text = "Login successful!";
                        userInfoLabel.Text = $"Welcome, {userInfo.displayName}";

                        // Navigate to Form2
                        var form2 = new Form2();
                        form2.Show();
                        this.Hide();
                    }
                }
            }
            catch (Exception ex)
            {
                messageLabel.Text = "An error occurred: " + ex.Message;
            }
        }
    }

    public class UserInfo
    {
        public string displayName { get; set; }
    }
}

Form2.cs
namespace LoginApp
{
    partial class Form2
    {
        private System.ComponentModel.IContainer components = null;

        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        private void InitializeComponent()
        {
            this.branchNameLabel = new System.Windows.Forms.Label();
            this.branchNameTextBox = new System.Windows.Forms.TextBox();
            this.batchLabel = new System.Windows.Forms.Label();
            this.batchComboBox = new System.Windows.Forms.ComboBox();
            this.getRepositoryButton = new System.Windows.Forms.Button();
            this.SuspendLayout();
            // 
            // branchNameLabel
            // 
            this.branchNameLabel.AutoSize = true;
            this.branchNameLabel.Location = new System.Drawing.Point(13, 13);
            this.branchNameLabel.Name = "branchNameLabel";
            this.branchNameLabel.Size = new System.Drawing.Size(78, 13);
            this.branchNameLabel.TabIndex = 0;
            this.branchNameLabel.Text = "Branch Name *";
            // 
            // branchNameTextBox
            // 
            this.branchNameTextBox.Location = new System.Drawing.Point(97, 10);
            this.branchNameTextBox.Name = "branchNameTextBox";
            this.branchNameTextBox.Size = new System.Drawing.Size(200, 20);
            this.branchNameTextBox.TabIndex = 1;
            // 
            // batchLabel
            // 
            this.batchLabel.AutoSize = true;
            this.batchLabel.Location = new System.Drawing.Point(303, 13);
            this.batchLabel.Name = "batchLabel";
            this.batchLabel.Size = new System.Drawing.Size(37, 13);
            this.batchLabel.TabIndex = 2;
            this.batchLabel.Text = "Batch*";
            // 
            // batchComboBox
            // 
            this.batchComboBox.DropDownStyle = System.Windows.Forms.ComboBoxStyle.DropDownList;
            this.batchComboBox.FormattingEnabled = true;
            this.batchComboBox.Items.AddRange(new object[] {
            "Pre Batch",
            "Post Batch",
            "Both"});
            this.batchComboBox.Location = new System.Drawing.Point(346, 10);
            this.batchComboBox.Name = "batchComboBox";
            this.batchComboBox.Size = new System.Drawing.Size(121, 21);
            this.batchComboBox.TabIndex = 3;
            // 
            // getRepositoryButton
            // 
            this.getRepositoryButton.Location = new System.Drawing.Point(473, 8);
            this.getRepositoryButton.Name = "getRepositoryButton";
            this.getRepositoryButton.Size = new System.Drawing.Size(100, 23);
            this.getRepositoryButton.TabIndex = 4;
            this.getRepositoryButton.Text = "Get Repository";
            this.getRepositoryButton.UseVisualStyleBackColor = true;
            // 
            // Form2
            // 
            this.ClientSize = new System.Drawing.Size(584, 61);
            this.Controls.Add(this.getRepositoryButton);
            this.Controls.Add(this.batchComboBox);
            this.Controls.Add(this.batchLabel);
            this.Controls.Add(this.branchNameTextBox);
            this.Controls.Add(this.branchNameLabel);
            this.Name = "Form2";
            this.Text = "Search Criteria";
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        private System.Windows.Forms.Label branchNameLabel;
        private System.Windows.Forms.TextBox branchNameTextBox;
        private System.Windows.Forms.Label batchLabel;
        private System.Windows.Forms.ComboBox batchComboBox;
        private System.Windows.Forms.Button getRepositoryButton;
    }
}
